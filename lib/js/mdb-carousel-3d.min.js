!function (t) {
  t.fn.mdbCarousel3d = function (e) {
    let n, a, l,
      r = t.extend({ vertical: !1, interval: 5e3, autoplay: !0, onChange: console.log }, e),
      // i = t(this),
      i = t(this).find(".carousel-3d-inner-container"),
      o = t(this).find(".carousel-3d-inner"),
      s = o.find(".carousel-3d-item"),
      c = s.length,
      u = 0,
      f = r.vertical ? "rotateX" : "rotateY";
    function d() {
      let t = a * u * -1;
      o.css({ transform: "translateZ(" + -n + "px) " + f + "(" + t + "deg)" });
      let active = s.get(u % c);
      s.removeClass("active")
      $(active).addClass("active")
      r.onChange(u % c)
    }
    function h() {
      u++ , d()
    }
    function v() {
      f = r.vertical ? "rotateX" : "rotateY";
      // let t = i.outerHeight(),
      //   e = i.outerWidth();
      let t = i.outerHeight(),
      e = i.outerWidth();
      // s.css({ height: t - 50 }),
      s.css({ height: t }),
        s.css({ width: e - 50 }),
        // s.css({ width: e }),
        // let t = o.outerHeight(),
        //   e = o.outerWidth();
        // s.css({ height: t }),
        //   s.css({ width: e }),
        function () {
          a = 360 / c;
          let t = o.outerWidth(),
            e = o.outerHeight(),
            l = r.vertical ? e : t;
          n = Math.round(l / 2 / Math.tan(Math.PI / c));
          for (let t = 0; t < s.length; t++) {
            let e = s[t];
            if (t < c) {
              // e.style.opacity = 1;
              let l = a * t;
              e.style.transform = f + "(" + l + "deg) translateZ(" + n + "px)"
            }
            else {
              console.log("impos")
              e.style.opacity = 0, e.style.transform = "none"
            }
          } d()
        }()
    }
    t(this).find(".carousel-3d-controls-btn.prev").on("click", function () {
      clearInterval(l),
        u-- ,
        d(),
        r.autoplay && (l = setInterval(h, r.interval))
    }),
      t(this).find(".carousel-3d-controls-btn.next").on("click", function () {
        clearInterval(l),
          h(),
          r.autoplay && (l = setInterval(h, r.interval))
      }),
      v(),
      r.autoplay && (l = setInterval(h, r.interval)),
      t(window).resize(v)
  }
}(jQuery);
